name: Build and upload Docker images

on:
    pull_request: 
        paths: 
            - '**/Dockerfile'

jobs:
    build_and_publish:
        runs-on: ubuntu-latest

        steps:
            - name: Checkout code
              uses: actions/checkout@v3

            - name: Get all changed Dockerfiles
              id: changed_dockerfiles
              uses: tj-actions/changed-files@v44
              with:
                # Avoid using single or double quotes for multiline patterns
                files: |
                  **Dockerfile